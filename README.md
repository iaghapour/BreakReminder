# زمان استراحت شماست!

بسیار عالی که برنامه به طور کامل و به درستی کار می‌کند!

در زیر یک داکیومنت خلاصه و تمیز برای اجرای این برنامه یادآور استراحت در ویندوز آماده کرده‌ام. این داکیومنت فقط شامل مراحل ضروری و بسته‌هایی است که برای اجرای نسخه نهایی کد نیاز دارید.

---

## راهنمای اجرای برنامه یادآور استراحت در ویندوز

این برنامه به شما کمک می‌کند تا هر چند دقیقه یکبار (به طور پیش‌فرض ۴۵ دقیقه) یک یادآوری تمام صفحه برای استراحت دریافت کنید. این یادآوری شامل تغییر رنگ پس‌زمینه به صورت انیمیشن fade و یک تایمر شمارش معکوس برای بسته شدن خودکار پنجره است.

### پیش‌نیازها:

1.  **نصب پایتون:**
    *   اگر پایتون روی سیستم شما نصب نیست، آخرین نسخه پایدار آن را از وب‌سایت رسمی پایتون ([python.org](https://www.python.org/downloads/windows/)) دانلود و نصب کنید.
    *   **مهم:** در هنگام نصب، حتماً گزینه "Add Python to PATH" (یا مشابه آن) را فعال کنید.

2.  **نصب کتابخانه‌های پایتون مورد نیاز:**
    برای اجرای این برنامه، به چند کتابخانه جانبی پایتون نیاز دارید. این کتابخانه‌ها را می‌توانید با استفاده از `pip` (مدیر بسته پایتون) نصب کنید.
    Command Prompt (یا PowerShell) را باز کنید و دستورات زیر را یکی‌یکی اجرا نمایید:

    *   **برای پشتیبانی از نمایش صحیح متن فارسی و کاراکترهای چسبیده (اگرچه در نسخه نهایی مستقیماً از آن استفاده نمی‌کنیم، اما برای توسعه‌های آتی یا فونت‌های خاص ممکن است مفید باشد):**
        ```bash
        pip install arabic-reshaper
        ```
        ```bash
        pip install python-bidi
        ```
        *(توجه: در نسخه نهایی کد، ما از کاراکترهای کنترل یونیکد RLE/PDF برای جهت‌دهی متن استفاده کردیم، اما نصب این بسته‌ها ضرری ندارد و ممکن است برای پروژه‌های دیگر یا فونت‌های خاص مفید باشد).*

    *   **(اختیاری) برای پخش صدای اعلان:**
        کتابخانه `winsound` بخشی از کتابخانه استاندارد پایتون در ویندوز است و معمولاً نیازی به نصب جداگانه ندارد. اگر به هر دلیلی با آن مشکل داشتید، ممکن است نیاز به بررسی نصب پایتون خود داشته باشید.

### مراحل اجرا:

1.  **ذخیره کد برنامه:**
    *   کد نهایی برنامه پایتون (که در مکالمات قبلی به آن رسیدیم و شامل کلاس `BackgroundFader` و تایمر زنده است) را در یک فایل متنی کپی کرده و با پسوند `.py` ذخیره کنید. برای مثال، نام فایل را `break_reminder.py` بگذارید.
    *   مطمئن شوید که فایل با انکودینگ **UTF-8** ذخیره شده است تا کاراکترهای فارسی به درستی نمایش داده شوند (اکثر ویرایشگرهای مدرن به طور پیش‌فرض این کار را انجام می‌دهند).

2.  **اجرای برنامه:**
    *   Command Prompt (یا PowerShell) را باز کنید.
    *   با استفاده از دستور `cd` به پوشه‌ای بروید که فایل `break_reminder.py` را در آن ذخیره کرده‌اید. برای مثال:
        ```bash
        cd C:\ مسیر \ پوشه \ شما
        ```
    *   برنامه را با دستور زیر اجرا کنید:
        ```bash
        python break_reminder.py
        ```

3.  **استفاده از برنامه:**
    *   پس از اجرا، یک پنجره کنسول باز خواهد ماند که پیام‌های وضعیت برنامه را نمایش می‌دهد. این پنجره باید باز بماند تا برنامه به کار خود ادامه دهد.
    *   در زمان‌های تنظیم شده (به طور پیش‌فرض هر ۴۵ دقیقه)، یک پنجره تمام صفحه با پیام یادآوری ظاهر می‌شود.
    *   رنگ پس‌زمینه این پنجره به آرامی تغییر می‌کند.
    *   یک تایمر شمارش معکوس (به طور پیش‌فرض ۶۰ ثانیه) در پنجره نمایش داده می‌شود. پس از اتمام این زمان، پنجره به طور خودکار بسته می‌شود.
    *   همچنین می‌توانید با فشردن هر کلیدی روی کیبورد، پنجره یادآوری را زودتر ببندید.

4.  **متوقف کردن برنامه:**
    *   برای متوقف کردن کامل برنامه، به پنجره Command Prompt که برنامه در آن در حال اجراست برگردید و کلیدهای `Ctrl+C` را فشار دهید.

### تنظیمات قابل تغییر در کد (اختیاری):

شما می‌توانید مقادیر زیر را مستقیماً در ابتدای فایل `break_reminder.py` تغییر دهید:

*   `INTERVAL_MINUTES`: فاصله زمانی بین هر یادآوری (بر حسب دقیقه).
*   `AUTO_CLOSE_TIMEOUT_SECONDS`: مدت زمان نمایش تایمر شمارش معکوس قبل از بسته شدن خودکار پنجره (بر حسب ثانیه).
*   `ANIMATION_COLORS_LIST`: لیستی از رنگ‌ها (نام رنگ یا کد هگز) برای انیمیشن پس‌زمینه.
*   `FADE_DURATION_MS_CONFIG`: مدت زمان هر انتقال fade بین رنگ‌ها (بر حسب میلی‌ثانیه).
*   `FADE_STEPS_CONFIG`: تعداد گام‌ها در هر انتقال fade (هرچه بیشتر، نرم‌تر اما ممکن است سنگین‌تر شود).
*   `HOLD_DURATION_MS_CONFIG`: مدت زمانی که یک رنگ پس از fade شدن به آن، ثابت باقی می‌ماند.
*   `FONT_FAMILY`, `TITLE_FONT_SIZE`, `MESSAGE_FONT_SIZE`, `COUNTDOWN_FONT_SIZE`: برای تغییر فونت و اندازه متن‌ها.
*   `TEXT_COLOR`: رنگ متن اصلی (مطمئن شوید با تمام رنگ‌های پس‌زمینه خوانا باشد).

---



===============================================================



---

# استفاده از **Task Scheduler** (کنترل بیشتر و قابلیت اطمینان بالاتر)

Task Scheduler ویندوز ابزاری قدرتمند برای زمان‌بندی اجرای برنامه‌ها است و کنترل وسیع‌تری بر زمان و نحوه اجرای اسکریپت فراهم می‌کند.

---

## مراحل تنظیم اسکریپت با Task Scheduler

### ۱. باز کردن Task Scheduler

- در منوی **Start** جستجو کنید `Task Scheduler` و آن را اجرا کنید.

---

### ۲. ایجاد وظیفه جدید

- در پنل **Actions** (سمت راست)، یکی از گزینه‌های زیر را انتخاب کنید:
    - **Create Basic Task…**: مناسب برای تنظیمات ساده (پیشنهادی برای شروع کار)
    - **Create Task…**: مناسب برای کنترل کامل‌تر و تنظیمات پیشرفته

> ما در اینجا با **Create Basic Task…** شروع می‌کنیم.

---

### ۳. مشخصات اولیه وظیفه

- **Name (نام):** یک نام برای وظیفه انتخاب کنید.  
  مثال: `BreakReminderScript`
- **Description (توضیحات):** (اختیاری) توضیح کوتاهی درباره وظیفه بنویسید.
- روی **Next** کلیک کنید.

---

### ۴. تعیین Trigger (محرک اجرا)

- بسته به نیاز خود یکی از این موارد را انتخاب کنید:
    - **When I log on**  
      *(وقتی وارد سیستم می‌شوم - معمولا مناسب‌تر برای اسکریپت‌های کاربری)*
    - **When the computer starts**  
      *(وقتی کامپیوتر روشن می‌شود - اسکریپت‌های پس‌زمینه، توجه شود که ممکن است قبل از ورود کاربر اجرا شود)*
- روی **Next** کلیک کنید.

---

### ۵. تعیین Action (عمل)

- گزینه **Start a program** را انتخاب کنید.
- روی **Next** کلیک کنید.

---

### ۶. تنظیم اجرای برنامه

- **Program/script:** مسیر کامل فایل `pythonw.exe` را وارد کنید. برای پیدا کردن آن:
    ```
    where pythonw.exe
    ```
    (مثال خروجی:  
    `C:\Users\YourUser\AppData\Local\Programs\Python\Python3X\pythonw.exe`)

- **Add arguments (Optional):** مسیر کامل فایل اسکریپت پایتون خود را وارد کنید:  
  مثال:  
  `C:\مسیر\کامل\به\break_reminder.py`

- **Start in (Optional):** پوشه‌ای که اسکریپت در آن قرار دارد را وارد کنید تا "مسیر کاری جاری" مشخص شود.  
  مثال:  
  `C:\مسیر\کامل\به\`

- روی **Next** کلیک کنید.

---

### ۷. پایان و بررسی تنظیمات

- خلاصه تنظیمات را بازبینی کنید.
- اگر نیاز به تنظیمات پیشرفته‌تر دارید، می‌توانید گزینه  
  `Open the Properties dialog for this task when I click Finish`  
  را فعال کنید (به عنوان مثال برای اجرای وظیفه با سطح دسترسی بالاتر یا وقتی کاربر وارد نشده است).
- در نهایت روی **Finish** کلیک کنید.

---

## نکات تکمیلی

- **بدون پنجره کنسول:** با استفاده از `pythonw.exe` به عنوان برنامه، کنسول باز نمی‌شود و اسکریپت بی‌صدا اجرا خواهد شد.
- **مدیریت وظیفه:** وظیفه ایجادشده را در **Task Scheduler Library** می‌توانید مدیریت کنید (ویرایش، حذف، غیرفعالسازی، اجرای دستی و ...).
- **مشاهده لاگ‌ها:** رکورد اجرای وظایف و خطاها در Task Scheduler موجود است و برای عیب‌یابی مفید است.
- **انعطاف‌پذیری در تنظیمات:** گزینه‌های متنوع زمان‌بندی و شرایط اجرا در دسترس است.

---

## پیش از تنظیم اجرای خودکار:

:warning: **حتماً اطمینان حاصل کنید اسکریپت شما به‌درستی و بدون خطا از طریق Command Prompt**  
(مثلاً:  
`python your_script.py`  
یا  
`pythonw your_script.pyw`)  
اجرا شود.  
زیرا اگر خطایی وجود داشته باشد، اجرای خودکار در پس‌زمینه عیب‌یابی را دشوار خواهد کرد.

---

**موفق باشید!**

---

امیدوارم این راهنما برای شما مفید باشد!
